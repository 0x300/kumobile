/*
 	This file is part of KetteringJS.

	KetteringJS is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    KetteringJS is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with KetteringJS.  If not, see <http://www.gnu.org/licenses/>.
*/
var KU={}
!function(t){function e(t,e){return this.title=t,this.mainHtml=e,this}var i={},r=null
i.retrieve=function(t,i,s){var n
n=0!=t?"http://www.kettering.edu/announcements?page="+t:"http://www.kettering.edu/announcements/",r=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r=[]
$("<div>").html(t).find(".views-row").each(function(t){var i=$("h3",this).text(),s=$(this)
s.find("h3:first").remove(),r[t]=new e(i,s.html())}),i(r)},error:function(t,e,i){s(i)}})},i.nextPage=function(t,e){null==r?r=0:r++,i.retrieve(r,t,e)},i.previousPage=function(t,e){null==r?r=0:0>r-1?r=0:r--,i.retrieve(r,t,e)},t.Announcements=i}(KU),function(t){function e(t){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="NOPQRSTUVWXYZABCDEFGHIJKLMnopqrstuvwxyzabcdefghijklm0123456789",r=[],s="",n=0;n<=e.length;n++)r[e.substr(n,1)]=i.substr(n,1)
for(var n=0;n<=t.length;n++){var a=t.charAt(n)
s+=a in r?r[a]:a}return s}function i(t,e){this.name=t,this.valueId=e}function r(t,e){return this.message=t,this.weight=e,this}function s(t,e,i){return this.fullName=t,this.info=e,this.imgUrl=i,this}var n={},a=null,o=null
n.abort=function(){null!=o&&(o.abort(),o=null)},n.search=function(t,i,n,l,c,d,h){if(void 0==h)var h=0
if(null!=o)return void d("One search is already occurring. Please cancel first.")
a={page:h,firstName:t,lastName:i,ext:n,departmentId:l}
var u="http://www.kettering.edu/faculty-staff/directory?field_faculty_staff_first_value="+encodeURIComponent(t)+"&field_faculty_staff_last_value="+encodeURIComponent(i)+"&field_phone_extension_value="+n+"&tid="+l+"&page=0"+h
o=$.ajax({url:u,type:"GET",dataType:"html",success:function(t){var i=[],n=$("<div>").html(t).find(".directory-caption")
n.each(function(t){if($("img",this).length>0)var n=$("img",this).eq(0).attr("src")
else var n="images/default_directory_icon.jpg"
"/"==n[0]&&(n="http://www.kettering.edu"+n)
var a=$("h3",this).first().text(),o=[],l=0
$(".inside span",this).each(function(){var t=$(this).clone().children().remove().end().text()
$(this).hasClass("obfuscated")&&(t=t.split("").reverse().join(""),t=e(t)),""==t.replace(/\s+/g,"")||$(this).find(".tel").length>0||(o[l++]=new r(t,$(this).hasClass("bold")?"bold":""))}),i[t]=new s(a,o,n)}),o=null,c(i)},error:function(t,e,i){o=null,"abort"!=e&&d(i)}})},n.nextPage=function(t,e){return null==a?void e("Please search before you attempt to get Next Page"):void n.search(a.firstName,a.lastName,a.ext,a.departmentId,t,e,a.page+1)},n.previousPage=function(t,e){return null==a?void e("Please search before you attempt to get Previous Page"):a.page-1<0?void t([]):void n.search(a.firstName,a.lastName,a.ext,a.departmentId,t,e,a.page-1)},n.getDepartments=function(t,e){var r="http://www.kettering.edu/faculty-staff/directory?field_faculty_staff_first_value=&field_faculty_staff_last_value=&field_phone_extension_value=KUMOBILE&tid=All"
$.ajax({url:r,type:"GET",dataType:"html",success:function(e){var r=[],s=$("<div>").html(e).find("#edit-tid option")
s.each(function(t){var e=$(this).attr("value"),s=$(this).text()
r[t]=new i(s,e)}),t(r)},error:function(t){e(t)}})},t.Directory=n}(KU),function(t){function e(t,e){return this.title=t,this.mainHtml=e,this}function i(t,e,i,s,n,a,o,l,c){return this.title=t,this.location=e,this.time=i,this.month=s,this.dayOfTheMonth=n,this.dayOfTheWeek=a,this.tags=o,this.imgUrl=l,this.detailsUrl=c,this.getEvent=function(t,e){r.downloadEventDetails(c,t,e)},this}var r={},s=null
r.downloadEventDetails=function(t,i,r){var t="http://www.kettering.edu/"+t
$.ajax({url:t,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=r.find(".content.clearfix"),n=r.find(".title.inside").text(),a=new e(n,s)
i(a)},error:function(t,e,i){r(i)}})},r.retrieve=function(t,e,r){var n
n=0!=t?"http://www.kettering.edu/events?page="+t:"http://www.kettering.edu/events",s=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r,s,n,a=[]
$("<div>").html(t).find(".views-row").each(function(t){if($("img",this).length>0)var e=$("img",this).eq(0).attr("src")
else var e=""
"/"==e[0]&&(e="http://www.kettering.edu"+e)
var o=$("h3",this).text(),l=$(".info .location",this).text(),c=$(".tags",this).text(),d=$("h3 a",this).attr("href")
if(2==$(".info .date-display-single",this).length)var h=$(".info .date-display-single",this).eq(0).text()+" - "+$(".info .date-display-single",this).eq(1).text()
else var h=$(".info .date-display-single",this).eq(0).text()
$(this).hasClass("views-row-1")&&(r=$(".datebox",this).find(".month").text(),n=$(".datebox",this).find(".lower .dow").text(),s=$(".datebox",this).find(".day").text(),r=r.replace("Jan","January"),r=r.replace("Feb","February"),r=r.replace("Mar","March"),r=r.replace("Apr","April"),r=r.replace("Jun","June"),r=r.replace("Jul","July"),r=r.replace("Aug","August"),r=r.replace("Sep","September"),r=r.replace("Oct","October"),r=r.replace("Nov","Novemeber"),r=r.replace("Dec","December")),a[t]=new i(o,l,h,r,s,n,c,e,d)}),e(a)},error:function(t,e,i){r(i)}})},r.nextPage=function(t,e){null==s?s=0:s++,r.retrieve(s,t,e)},r.previousPage=function(t,e){null==s?s=0:0>s-1?s=0:s--,r.retrieve(s,t,e)},t.Events=r}(KU),function(t){function e(t,e,i,r,s){this.title=t,this.author=e,this.callNumber=i,this.holdings=r,this.imgUrl=s}var i={},r=null,s=null,n=[{valueId:"GENERAL^SUBJECT^GENERAL^^words or phrase",name:"Words or Phrase"},{valueId:"AU^AUTHOR^AUTHORS^Author Processing^author",name:"Author"},{valueId:"TI^TITLE^SERIES^Title Processing^title",name:"Title"},{valueId:"SU^SUBJECT^SUBJECTS^^subject",name:"Subject"},{valueId:"SER^SERIES^SERIES^Title Processing^series",name:"Series"},{valueId:"PER^PERTITLE^SERIES^Title Processing^periodical title",name:"Periodical"}]
i.search=function(t,i,n,a,o){if(void 0!=o)var l="http://catalog.palnet.info"+o.action+"?firsthit=&lasthit=&form_type=JUMP%5E"+(20*o.page+1),c=o.page
else var l="http://elibrary.palnet.info/uhtbin/cgisirsi/x/0/0/57/5?library=KU&location=KUMAIN&match_on=KEYWORD&shadow=NO&user_id=kuweb&srchfield1="+encodeURIComponent(i)+"&searchdata1="+encodeURIComponent(t),c=0
s=$.ajax({url:l,type:"GET",dataType:"html",success:function(a){var o=[],l=$("<div>").html(a),d=l.find(".hit_list_row"),h=l.find("#hitlist").first().attr("action")
r={action:h,field:t,searchOptionId:i,page:c},d.each(function(t){if($(".hit_list_list_cover script",this).length>0){var i=$(".hit_list_list_cover script",this).eq(0).text().replace(/\s/g,"").replace("getHitCover('","").replace("');",""),r="",s=i.split("','")
8==s.length&&(r=s[0]+"isbn="+s[2].replace(/,.+/g,"")+"/SC.GIF&client="+s[1]+"&type=xw12&upc=&oclc="+s[4].replace(/,.+/g,""))}else var r=""
var n=$(".title",this).first().text().trim(),a=$(".author",this).first().text().trim(),l=$(".call_number",this).first().text().trim(),c=$(".holdings_statement",this).first().text().trim()
o[t]=new e(n,a,l,c,r)}),s=null,n(o)},error:function(t,e,i){s=null,"abort"!=e&&a(i)}})},i.nextPage=function(t,e){r.page++,i.search(r.field,r.searchOptionId,t,e,r)},i.getSearchOptions=function(){return n},i.abort=function(){null!=s&&(s.abort(),s=null)},t.Library=i}(KU),function(t){function e(t,e,i){return this.title=t,this.headerInfo=e,this.mainHtml=i,this}function i(t,e,i,s,n){return this.getArticle=function(t,e){r.downloadArticle(n,t,e)},this.title=t,this.author=e,this.date=i,this.imgUrl=s,this.detailsUrl=n,this}var r={},s=null
r.downloadArticle=function(t,i,r){var s="http://www.kettering.edu/"+t
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=r.find(".field.field-name-body.field-type-text-with-summary.field-label-hidden"),n=r.find(".news").text(),a=r.find(".info").text(),o=new e(n,a,s)
i(o)},error:function(t,e,i){r(i)}})},r.retrieve=function(t,e,r){var n
n=0!=t?"http://www.kettering.edu/news/current-news?page="+t:"http://www.kettering.edu/news/current-news",s=t,$.ajax({url:n,type:"GET",dataType:"html",success:function(t){var r=[]
$("<div>").html(t).find(".news-caption").each(function(t){if($("img",this).length>0)var e=$("img",this).eq(0).attr("src")
else var e=""
"/"==e[0]&&(e="http://www.kettering.edu"+e)
var s=$("h3",this).text(),n=$(".info .by",this).text(),a=$(".info .date",this).text(),o=$(".more",this).attr("href")
r[t]=new i(s,n,a,e,o)}),e(r)},error:function(t,e,i){r(i)}})},r.nextPage=function(t,e){null==s?s=0:s++,r.retrieve(s,t,e)},r.previousPage=function(t,e){null==s?s=0:0>s-1?s=0:s--,r.retrieve(s,t,e)},t.News=r}(KU),function(t){var e={}
e.JWEB={CatalogEntry:function(t,e,i,r,s,n,a,o,l,c,d,h,u,m){this.status=t,this.crn=e,this.courseId=i,this.section=r,this.campus=s,this.credits=n,this.title=a,this.days=o,this.time=l,this.capacity=c,this.active=d,this.professor=h,this.startDate=u,this.room=m},AwardYear:function(t,e){this.years=t,this.entries=e},AwardEntry:function(t,e,i,r,s,n){this.name=t,this.offered=e,this.accepted=i,this.declined=r,this.cancelled=s,this.paidToDate=n},AccountTerm:function(t,e,i,r,s){this.term=t,this.totalCharges=e,this.totalCredits=i,this.balance=r,this.entries=s},AccountEntry:function(t,e,i){this.code=t,this.description=e,this.total=i},EvalProgram:function(t,e,i){this.name=t,this.sourceId=e,this.programId=i},FinalGrade:function(t,e,i,r,s,n,a){this.crn=t,this.courseId=e,this.section=i,this.title=r,this.campus=s,this.grade=n,this.earnedCredits=a},EvalArea:function(t,e,i,r,s,n){this.met=t,this.name=e,this.requiredCredits=i,this.earnedCredits=r,this.gpa=s,this.requiredCourses=n},EvalCourse:function(t,e,i,r,s,n,a,o){this.met=t,this.name=e,this.takenCourseId=i,this.takenCourseTitle=r,this.takenTerm=s,this.takenCredits=n,this.takenGrade=a,this.details=o},Evaluation:function(t,e,i,r,s,n,a,o,l,c,d,h,u,m,f,p,v,g,$,x){this.fullName=t,this.idNumber=e,this.college=i,this.degree=r,this.level=s,this.majors=n,this.catalog=a,this.expectedGraduation=o,this.date=l,this.minors=c,this.concentrations=d,this.creditsMet=h,this.requiredCredits=u,this.usedCredits=m,this.transferCredits=f,this.overallGPAMet=v,this.programGPAMet=p,this.programGPA=g,this.overallGPA=$,this.evalAreas=x},Book:function(t,e,i,r,s){this.title=t,this.edition=e,this.imgUrl=i,this.author=r,this.isbn=s},Course:function(t,e,i,r,s,n,a,o,l,c,d,h){this.courseTitle=t,this.courseId=e,this.section=i,this.term=r,this.crn=s,this.professor=n,this.credits=a,this.campus=o,this.type=l,this.time=c,this.days=d,this.location=h},StudentInfo:function(t,e,i,r,s,n,a,o,l,c,d){this.fullName=t,this.idNumber=e,this.standing=i,this.transferCredits=r,this.regularCredits=s,this.program=n,this.college=a,this.major=o,this.concentration=l,this.minor=c,this.specialty=d},login:function(t,e,i,r){var s="https://jweb.kettering.edu/cku1/twbkwbis.P_ValLogin"
$.ajax({url:s,type:"POST",dataType:"html",success:function(){var s="https://jweb.kettering.edu/cku1/twbkwbis.P_ValLogin"
$.ajax({url:s,type:"POST",dataType:"html",data:{sid:encodeURIComponent(t),PIN:encodeURIComponent(e)},success:function(t){var e=/.*<meta.*url=\/cku1\/twbkwbis\.P_GenMenu.*>.*/
e.test(t)?i():r("Bad user id / password")},error:function(t,e,i){r(i)}})},error:function(t,e,i){r(i)}})},logout:function(t,e){var i="https://jweb.kettering.edu/cku1/twbkwbis.P_Logout"
$.ajax({url:i,type:"POST",dataType:"html",success:function(){t()},error:function(t,i,r){e(r)}})},retrieveAccountSummary:function(t,i){var r="https://jweb.kettering.edu/cku1/bwskoacc.P_ViewAcct"
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){var r=$("<div>").html(i),s=function(t){return t.text().trim().toLowerCase()},n=/[a-zA-Z]+\s+\d\d\d\d/,a=/\$0+(\.0+)?/,o="0",l=[],c=[],d="",h="",u="",m="",f="",p="",v="",g=""
$(".datadisplaytable",r).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()){var t=s($("th",this).eq(0)),i=$("td",this).eq(0).text().trim()
"account balance:"===t?o=i:"term charges:"===t?h=i:"term credits and payments:"===t?u=i:"term balance:"===t&&(m=i,l[l.length]=new e.JWEB.AccountTerm(d,h,u,m,c),c=[],d="",h="",u="",m="",f="",p="",v="",g="")}else if(1==$("th",this).size()&&0==$("td",this).size()){var t=$("th",this).eq(0).text().trim()
n.test(t)&&(d=t)}else 5==$("td",this).size()?(p=$("td",this).eq(0).text().trim(),v=$("td",this).eq(1).text().trim(),charge=$("td",this).eq(2).text().trim(),credit=$("td",this).eq(3).text().trim(),g=""==charge?credit:a.test(charge)?charge:"-"+charge,c[c.length]=new e.JWEB.AccountEntry(p,v,g)):5==$("td",this).size()&&(p=$("td",this).eq(0).text().trim(),v=$("td",this).eq(1).text().trim(),charge=$("td",this).eq(2).text().trim(),credit=$("td",this).eq(3).text().trim(),g=""==charge?credit:a.test(charge)?charge:"-"+charge,c[c.length]=new e.JWEB.AccountEntry(p,v,g))}),t(o,l)},error:function(t,e,r){i(r)}})},retrieveCurrentHolds:function(t,e){var i="http://jweb.kettering.edu/cku1/bwskoacc.P_ViewHold"
$.ajax({url:i,type:"GET",dataType:"html",success:function(e){var i=$("<div>").html(e),r=!1
$("table.plaintable",i).each(function(){r||"This layout table holds message information"!=$(this).attr("summary").trim()||(t($(this).html()),r=!0)}),r||t("Nothing to show!")},error:function(t,i,r){e(r)}})},retrieveTranscript:function(t,e){var i="https://jweb.kettering.edu/cku1/ku_web_trans.view_transcript?tprt=SHRTRTC&levl=U"
$.ajax({url:i,type:"POST",dataType:"html",success:function(e){var i=$("<div>").html(e)
t(i.html())},error:function(t,i,r){e(r)}})},retrieveAwardHistory:function(t,i){var r="https://jweb.kettering.edu/cku1/bwrkrhst.P_DispAwdHst"
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){var r=$("<div>").html(i),s=/[a-zA-Z\s]+\s([a-zA-Z]+\s\d\d\d\d\sto\s[a-zA-Z]+\s\d\d\d\d)/,n=[]
r.find("table.datadisplaytable").each(function(){var t="",i=[]
groups=s.exec($("caption.captiontext",this).text().trim()),2==groups.length&&(t=groups[1]),$("tr",this).each(function(){var t=$("td",this)
if(7==t.size()){var r="",s="",n="",a="",o="",l=""
r=t.eq(0).text().trim(),s=t.eq(1).text().trim(),n=t.eq(2).text().trim(),a=t.eq(3).text().trim(),o=t.eq(4).text().trim(),l=t.eq(6).text().trim(),i[i.length]=new e.JWEB.AwardEntry(r,s,n,a,o,l)}}),n[n.length]=new e.JWEB.AwardYear(t,i)}),t(n)},error:function(t,e,r){i(r)}})},retrieveScheduleCatalog:function(t,i,r){var s="https://jweb.kettering.edu/cku1/bwskfcls.P_GetCrse_Advanced?rsts=dummy&crn=dummy&term_in="+t+"&sel_subj=dummy&sel_day=dummy&sel_schd=dummy&sel_insm=dummy&sel_camp=dummy&sel_levl=dummy&sel_sess=dummy&sel_instr=dummy&sel_ptrm=dummy&sel_attr=dummy&sel_subj=SSCI&sel_subj=ACCT&sel_subj=BINF&sel_subj=BIOL&sel_subj=BUSN&sel_subj=CHME&sel_subj=CHEM&sel_subj=CHN&sel_subj=COMM&sel_subj=CE&sel_subj=CS&sel_subj=CUE&sel_subj=ECON&sel_subj=ECE&sel_subj=EE&sel_subj=FINC&sel_subj=FYE&sel_subj=GER&sel_subj=HIST&sel_subj=HUMN&sel_subj=IME&sel_subj=ISYS&sel_subj=INEN&sel_subj=MFGO&sel_subj=LS&sel_subj=LIT&sel_subj=MGMT&sel_subj=MRKT&sel_subj=MATH&sel_subj=MECH&sel_subj=MEDI&sel_subj=PHIL&sel_subj=PHYS&sel_subj=SSCI&sel_subj=SOC&sel_crse=&sel_title=&sel_from_cred=&sel_to_cred=&sel_instr=%25&begin_hh=0&begin_mi=0&begin_ap=0&end_hh=0&end_mi=0&end_ap=a&SUB_BTN=Section+Search&path=1"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=[],n="",a="",o="",l="",c="",d="",h="",u="",m="",f="",p="",v="",g="",x=""
r.find("table.datadisplaytable tr").each(function(){var t=$("td",this)
17==t.size()&&(""!=t.eq(1).text().trim()&&(n=t.eq(0).text().trim(),a=t.eq(1).text().trim(),o=t.eq(2).text().trim()+"-"+t.eq(3).text().trim(),l=t.eq(4).text().trim(),c=t.eq(5).text().trim(),d=t.eq(6).text().trim(),h=t.eq(7).text().trim()),u=t.eq(8).text().trim(),m=t.eq(9).text().trim(),f=t.eq(10).text().trim(),p=t.eq(11).text().trim(),v=t.eq(13).text().trim(),g=t.eq(14).text().trim(),x=t.eq(15).text().trim(),s[s.length]=new e.JWEB.CatalogEntry(n,a,o,l,c,d,h,u,m,f,p,v,g,x))}),i(s)},error:function(t,e,i){r(i)}})},retrieveScheduleTerms:function(t,e){var i="https://jweb.kettering.edu/cku1/bwskflib.P_SelDefTerm"
$.ajax({url:i,type:"GET",dataType:"html",success:function(e){var i=$("<div>").html(e),r=[]
i.find("#term_id option").each(function(){r[r.length]=$(this).val()}),t(r)},error:function(t,i,r){e(r)}})},retrieveFinalTerms:function(t,e){var i="https://jweb.kettering.edu/cku1/wbwskogrd.P_ViewTermGrde"
$.ajax({url:i,type:"GET",dataType:"html",success:function(e){var i=$("<div>").html(e),r=[]
i.find("#term_id option").each(function(){r[r.length]=$(this).val()}),t(r)},error:function(t,i,r){e(r)}})},retrieveFinalGrades:function(t,i,r){var s="https://jweb.kettering.edu/cku1/wbwskogrd.P_ViewGrde?term_in="+t+"&inam=on&snam=on&sgid=on"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=function(t){return t.text().trim().toLowerCase()},n="",a="",o="",l=[]
r.find("table.datadisplaytable").each(function(){$(this).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()&&(label=s($("th",this).eq(0)),info=$("td",this).eq(0).text().trim(),"term:"===label&&(n=info)),12==$("td",this).size()){children=$("td",this)
var t=children.eq(0).text().trim(),i=children.eq(1).text().trim()+"-"+children.eq(2).text().trim(),r=children.eq(3).text().trim(),c=children.eq(4).text().trim(),d=children.eq(5).text().trim(),h=children.eq(6).text().trim(),u=children.eq(8).text().trim()
l[l.length]=new e.JWEB.FinalGrade(t,i,r,c,d,h,u)}1==$("th",this).size()&&5==$("td",this).size()&&(label=s($("th",this).eq(0)),gpaInfo=$("td",this).eq(4).text().trim(),"current term:"===label&&(a=gpaInfo),"overall:"===label&&(o=gpaInfo))})}),i(n,a,o,l)},error:function(t,e,i){r(i)}})},generateEvaluation:function(t,e,i,r,s){var n="https://jweb.kettering.edu/cku1/bwckcapp.P_Submit?source1="+t+"&program="+e+"&ctlg_term="+i+"&eval_term=999999&dflt_ip=Y"
$.ajax({url:n,type:"GET",dataType:"html",success:function(){r()},error:function(t,e,i){s(i)}})},retrieveEvalPrograms:function(t,i,r){var s="https://jweb.kettering.edu/cku1/bwckcapp.P_DispEvalTerm?term_in="+t
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t)
programs=[]
var s=r.find("input[name=source1]").attr("value")
r.find("table.dataentrytable").each(function(){programId=$("input[name=program]",this).attr("value"),name=$("tr:first td:last",this).text().trim(),programs[programs.length]=new e.JWEB.EvalProgram(name,s,programId)}),i(programs)},error:function(t,e,i){r(i)}})},retrieveEvaluation:function(t,i,r,s){var n="https://jweb.kettering.edu/cku1/bwckcapp.P_DispCurrent?term_in="+t
$.ajax({url:n,type:"GET",dataType:"html",success:function(){var t="https://jweb.kettering.edu/cku1/bwckcapp.P_VerifyDispEvalViewOption?request_no="+i+"&program_summary=3"
$.ajax({url:t,type:"GET",dataType:"html",success:function(t){var i=$("<div>").html(t),n=function(t){return t.text().trim().toLowerCase()}
if(i.find("table.datadisplaytable").size()<2)return void s("Invalid evaluation page found.")
var a,o="",l="",c="",d="",h="",u="",m="",f="",p="",v="",g=/(\d\d\d\d+)\s(.*)\n.*/,x=g.exec($(".staticheaders",i).text().trim())
p=3===x.length?x[2]:"",v=3===x.length?x[1]:"",i.find("table.datadisplaytable").eq(0).find("tr").each(function(t){var e=$("th.ddlabel, td.dddefault",this)
for(t=0;t+1<e.size();t+=2)"college :"===n(e.eq(t))&&(o=e.eq(t+1).text().trim()),"degree :"===n(e.eq(t))&&(l=e.eq(t+1).text().trim()),"level :"===n(e.eq(t))&&(c=e.eq(t+1).text().trim()),"majors :"===n(e.eq(t))&&(d=e.eq(t+1).text().trim().replace(/\n+/g,", ")),"catalog term :"===n(e.eq(t))&&(h=e.eq(t+1).text().trim()),"expected graduation date :"===n(e.eq(t))&&(a=e.eq(t+1).text().trim()),"results as of :"===n(e.eq(t))&&(u=e.eq(t+1).text().trim()),"minors :"===n(e.eq(t))&&(m=e.eq(t+1).text().trim().replace(/\n+/g,", ")),"concentrations :"===n(e.eq(t))&&(f=e.eq(t+1).text().trim().replace(/\n+/g,", ")),f=f.replace(/\n+/g,", ")})
var b="",w="",_="",y="",q="",T="",E="",k=""
i.find("table.datadisplaytable").eq(1).find("tr").each(function(){1==$("th",this).size()&&5==$("td",this).size()&&("total required :"===n($("th",this))&&(b="yes"===n($("td",this).eq(0)),w=$("td",this).eq(1).text().trim(),_=$("td",this).eq(2).text().trim()),"program gpa :"===n($("th",this))&&("yes"===n($("td",this).eq(0))?q=!0:"no"===n($("td",this).eq(0))&&(q=!1),E=$("td",this).eq(2).text().trim()),"overall gpa :"===n($("th",this))&&("yes"===n($("td",this).eq(0))?T=!0:"no"===n($("td",this).eq(0))&&(T=!1),k=$("td",this).eq(2).text().trim()),"transfer :"===n($("th",this))&&(y=$("td",this).eq(2).text().trim()))})
for(var I=[],j=/([a-zA-Z\s]+)\s*\(\s*(\d+\.\d+)\scredits\s*\)\s*-\s*(.*)/,C=2;C<i.find("table.datadisplaytable").size();C++){var B="",S="",A="",P="",z="",G="",N="",U="",O="",R="",w="",J="",D="",L=[],M=[]
i.find("table.datadisplaytable").eq(C).find("tr").each(function(){if(1==$("th",this).size()&&1==$("td",this).size()&&j.test($("td",this).eq(0).text().trim())){groups=j.exec($("td",this).eq(0).text().trim())
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",R=groups[1],w=groups[2],O="Met"==groups[3]}else if(17==$("td",this).size()){children=$("td",this)
var r=n(children.eq(1))
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",B="yes"===n(children.eq(0)),S=children.eq(3).text().trim()+"-"+children.eq(5).text().trim(),A=children.eq(10).text().trim()+"-"+children.eq(11).text().trim(),P=children.eq(12).text().trim(),z=children.eq(9).text().trim(),G=children.eq(14).text().trim(),U=children.eq(15).text().trim(),(""===S||"-"===S)&&(S=children.eq(2).text().trim()),""!=S&&(L[L.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",S="",A="",P="",z="",G="",U="",N="")}else if(12==$("td",this).size()){children=$("td",this)
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",B="yes"===n(children.eq(0)),S=children.eq(3).text().trim(),A=children.eq(5).text().trim()+"-"+children.eq(6).text().trim(),P=children.eq(7).text().trim(),z=children.eq(4).text().trim(),G=children.eq(9).text().trim(),U=children.eq(10).text().trim(),(""===S||"-"===S)&&(S=children.eq(2).text().trim()),""!=S&&(M[M.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",A="",P="",z="",G="",U="",N="")}else if(10==$("td",this).size()&&"8"==$("td",this).eq(9).attr("colspan")){children=$("td",this)
var r=n(children.eq(1))
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",B="yes"===n(children.eq(0)),S=children.eq(3).text().trim()+"-"+children.eq(5).text().trim(),(""===S||"-"===S)&&(S=children.eq(2).text().trim()),""==S||"("!==r&&")"!==r&&")and("!==r&&"and"!==r||(L[L.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",S="",A="",P="",z="",G="",U="",N="")}else if(10==$("td",this).size())children=$("td",this),B=null,N=children.eq(1).text().trim(),A=children.eq(3).text().trim()+"-"+children.eq(4).text().trim(),P=children.eq(5).text().trim(),z=children.eq(2).text().trim(),G=children.eq(7).text().trim(),U=children.eq(8).text().trim(),""!=S&&(M[M.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",A="",P="",z="",G="",U="")
else if(3==$("td",this).size()&&"8"==$("td",this).eq(2).attr("colspan"))children=$("td",this),N=children.eq(1).text().trim()
else if(8==$("td",this).size())children=$("td",this),B=null,A=children.eq(1).text().trim()+"-"+children.eq(2).text().trim(),P=children.eq(3).text().trim(),z=children.eq(0).text().trim(),G=children.eq(5).text().trim(),U=children.eq(6).text().trim(),""!=S&&(M[M.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",A="",P="",z="",G="",U="")
else if(2==$("td",this).size()){if(children=$("td",this),")"===children.eq(1).text().trim())for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N=""}else if(5==$("td",this).size()&&"8"==$("td",this).eq(4).attr("colspan")){children=$("td",this)
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",B="yes"===n(children.eq(0)),S=children.eq(3).text().trim(),A=children.eq(5).text().trim()+"-"+children.eq(6).text().trim(),(""===S||"-"===S)&&(S=children.eq(2).text().trim()),""!=S&&(M[M.length]=new e.JWEB.EvalCourse(B,S,A,P,z,G,U,N),B="",A="",P="",z="",G="",U="",N="")}else if(4==$("td",this).size()){children=$("td",this)
for(var t in M){var i=M[t]
i.details=N,L[L.length]=i}M=[],B="",S="",A="",P="",z="",G="",U="",N="",J=children.eq(1).text().trim(),D=children.eq(2).text().trim()}}),""!=R&&(I[I.length]=new e.JWEB.EvalArea(O,R,w,J,D,L))}evaluation=new e.JWEB.Evaluation(p,v,o,l,c,d,h,a,u,m,f,b,w,_,y,q,T,E,k,I),r(evaluation)},error:function(t,e,i){s(i)}})},error:function(t,e,i){s(i)}})},retrieveEvaluationList:function(t,e,i){var r="https://jweb.kettering.edu/cku1/bwcksmmt.P_DispPrevEval?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){var i=$("<div>").html(t)
if(i.find(".datadisplaytable tr").size()<2)return void e(0)
var r=[]
i.find(".datadisplaytable tr").each(function(){var t=$("td",this)
3==t.size()&&(r[r.length]=t.eq(1).text().trim())}),e(r)},error:function(t,e,r){i(r)}})},retrieveStudentInfo:function(t,e,i){var r="https://jweb.kettering.edu/cku1/bwskrsta.P_RegsStatusDisp?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){var i,r,s,n,a,o,l,c,d,h,u,m=$("<div>").html(t),f=/(\d\d\d\d+)\s(.*)\n.*/,p=/Your\sClass\sfor\sregistration\spurposes\sis\s([a-zA-Z]+\s\d)\..*/,v=f.exec($(".staticheaders",m).text().trim())
i=3===v.length?v[2]:"",r=3===v.length?v[1]:"",s="",$(".pldefault",m).each(function(){var t=$(this).text().trim()
p.test(t)&&(s=p.exec(t)[1])}),n="",a="",o="",l="",c="",d="",h="",u=""
var g=function(t){return t.text().trim().toLowerCase()}
$(".datadisplaytable tr",m).each(function(t){if(3===$("td",this).size()){var e=$("td",this)
"undergraduate"===g(e.eq(0))&&"transfer"===g(e.eq(1))&&(n=e.eq(2).text().trim()),"undergraduate"===g(e.eq(0))&&"institutional"===g(e.eq(1))&&(a=e.eq(2).text().trim())}else"current program"===g($(this))&&t+1<$(".datadisplaytable tr",m).size()?o=$(".datadisplaytable tr",m).eq(t+1).text().trim():1===$("td",this).size()&&1===$("th",this).size()&&("college:"===g($("th",this).eq(0))?l=$("td",this).text().trim():"major:"===g($("th",this).eq(0))?(""!=c&&(c+=", "),c+=$("td",this).text().trim()):"minor:"===g($("th",this).eq(0))?(""!=h&&(h+=", "),h+=$("td",this).text().trim()):"concentration:"===g($("th",this).eq(0))?(""!=d&&(d+=", "),d+=$("td",this).text().trim()):"major concentration:"===g($("th",this).eq(0))&&(""!=u&&(u+=", "),u+=$("td",this).text().trim()))})
var x=new KU.Student.JWEB.StudentInfo(i,r,s,n,a,o,l,c,d,h,u)
e(x)},error:function(t,e,r){i(r)}})},retrieveRequiredBooks:function(t,e,i,r,s){var n="http://www.bkstr.com/webapp/wcs/stores/servlet/en/ketteringstore/textbooks-and-course-materials",a="https://www.bkstr.com/webapp/wcs/stores/servlet/LocateCourseMaterialsServlet?requestType=TERMS&storeId=345405&demoKey=d&programId=3663",o=/([a-zA-Z]+)[\-\s](\d+)/,l="",c=""
return o.test(e)?(groups=o.exec(e),l=groups[1],c=groups[2],i=parseInt(i),void $.ajax({url:n,type:"GET",dataType:"html",timeout:25e3,success:function(){$.ajax({url:a,type:"GET",dataType:"html",timeout:25e3,success:function(e){if(e=e.replace("<script>parent.doneLoaded('","").replace("')</script>",""),termObj=JSON.parse(e),null==termObj||void 0==termObj)return void s("Failure to get terms for required books.")
for(var n=!1,a=0;a<termObj.data.length;a++)if(void 0!=termObj.data[a][t]){var o=termObj.data[a][t]
n=!0
var d="http://www.bkstr.com/webapp/wcs/stores/servlet/CourseMaterialsResultsView?catalogId=10001&categoryId=9604&storeId=345405&langId=-1&programId=3663&termId="+o+"&divisionDisplayName=%20&departmentDisplayName="+l+"&courseDisplayName="+l+"%20"+c+"&sectionDisplayName="+i+"&demoKey=d&purpose=browse"
$.ajax({url:d,type:"GET",dataType:"html",timeout:25e3,success:function(t){var e=$("<div>").html(t),i=[],s=[]
$("#material-group-list_REQUIRED_1_1 li",e).each(function(){$("h3.material-group-title",this).find("span").remove()
var t=$("h3.material-group-title",this).text().trim()
$("span#materialAuthor",this).find("strong").remove()
var e=$("span#materialAuthor",this).text().trim()
$("span#materialEdition",this).find("strong").remove()
var r=$("span#materialEdition",this).text().trim()
$("span#materialISBN",this).find("strong").remove()
var s=$("span#materialISBN",this).text().trim(),n=$("span#materialTitleImage img:first",this).attr("src")
i[i.length]=new KU.Student.JWEB.Book(t,r,n,e,s)}),$("#material-group-list_RECOMMENDED_1_1 li",e).each(function(){$("h3.material-group-title",this).find("span").remove()
var t=$("h3.material-group-title",this).text().trim()
$("span#materialAuthor",this).find("strong").remove()
var e=$("span#materialAuthor",this).text().trim()
$("span#materialEdition",this).find("strong").remove()
var i=$("span#materialEdition",this).text().trim()
$("span#materialISBN",this).find("strong").remove()
var r=$("span#materialISBN",this).text().trim(),n=$("span#materialTitleImage img:first",this).attr("src")
s[s.length]=new KU.Student.JWEB.Book(t,i,n,e,r)}),r(i,s)},error:function(t,e,i){s(i)}})}return n?void 0:void r([])},error:function(t,e,i){s(i)}})},error:function(t,e,i){s(i)}})):void s("Please provide valid course id")},retrieveSchedule:function(t,e,i){var r="https://jweb.kettering.edu/cku1/bwskfshd.P_CrseSchdDetl?term_in="+t
$.ajax({url:r,type:"GET",dataType:"html",success:function(t){for(var i=$("<div>").html(t),r=$("table.datadisplaytable",i),s=[],n=0;n+1<r.size();n+=2){var a,o,l,c,d,h,u,m,f,p,v,g,x=r.eq(n),b=r.eq(n+1)
courseTitlePattern=/(.*)\s-\s(.*\s.*)\s-\s(\d\d)/
var w=function(t){return t.text().trim().toLowerCase()}
if(courseTitlePattern.test(x.find("caption:first").text().trim())){var _=courseTitlePattern.exec(x.find("caption:first").text().trim())
if(a=_[1],o=_[2].replace(" ","-"),l=_[3],c="",d="",h="",u="",m="",$("tbody tr",x).each(function(){1==$("th",this).size()&&1==$("td",this).size()&&("associated term:"===w($("th",this))?c=$("td",this).text().trim():"crn:"===w($("th",this))?d=$("td",this).text().trim():"assigned instructor:"===w($("th",this))?h=$("td",this).text().trim():"credits:"===w($("th",this))?u=$("td",this).text().trim():"campus:"===w($("th",this))&&(m=$("td",this).text().trim()))}),f="",p="",v="",g="",b.find("tr").size()>1)for(var y=1;y<b.find("tr").size();y++){var q=b.find("tr").eq(0),T=b.find("tr").eq(y)
q.find("th").size()==T.find("td").size()&&$("th",q).each(function(t){"schedule type"===w($(this))?f=$("td",T).eq(t).text().trim():"time"===w($(this))?p=$("td",T).eq(t).text().trim():"days"===w($(this))?v=$("td",T).eq(t).text().trim():"where"===w($(this))&&(g=$("td",T).eq(t).text().trim())}),s[s.length]=new KU.Student.JWEB.Course(a,o,l,c,d,h,u,m,f,p,v,g)}}}e(s)},error:function(t,e,r){i(r)}})}},e.BB={Contact:function(t,e,i){this.firstName=t,this.lastName=e,this.email=i},Grade:function(t,e,i,r,s,n,a){this.title=t,this.grade=e,this.pointsPossible=i,this.dueDate=r,this.postedDate=s,this.status=n,this.additionalInfo=a},Tree:function(t,e,i,r){return this.bbId=t,this.contentId=e,this.folders=i,this.items=r,this},Folder:function(t,i,r,s){return this.bbId=t,this.contentId=i,this.name=r,this.details=s,this.getContentTree=function(t,i){e.BB.retrieveContentTree(this.bbId,this.contentId,t,i)},this},Item:function(t,e,i){return this.name=t,this.details=e,this.fullBBId=i,this},Course:function(t,i,r,s,n,a,o,l){return this.courseId=t,this.term=i,this.crn=r,this.section=s,this.courseTitle=n,this.days=a,this.time=o,this.bbId=l,this.getContentTree=function(t,i){e.BB.retrieveContentTree(this.bbId,"",t,i)},this.getRoster=function(t,e){KU.Student.BB.retrieveRoster(this.bbId,t,e)},this.getGrades=function(t,e){KU.Student.BB.retrieveGrades(this.bbId,t,e)},this},retrieveGrades:function(t,i,r){var s="https://kettering.blackboard.com/webapps/bb-mygrades-BBLEARN/myGrades?course_id="+t+"&stream_name=mygrades"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=[]
$("#grades_wrapper > div.row",r).each(function(){var t,i,r,n,a,o,l
t=$(".cell.gradable",this).clone().children().remove().end().text().trim(),""==t&&(t=$(".cell.gradable :first-child",this).text().trim()),i=$(".cell.grade > .grade",this).text().trim(),r=$(".cell.grade > .pointsPossible",this).text().trim().replace("/",""),n=$(".cell.gradable > .activityType",this).text().trim().replace("DUE:s",""),a=$(".cell.activity > .lastActivityDate",this).text().trim(),o=$(".cell.activity > .activityType",this).text().trim(),l="",$(".eval-links input.genericButton",this).each(function(){var t=$(this).attr("onclick"),e=/mygrades\.showInLightBox.*div.*<p>(.*)<\/p>.*/
e.test(t)&&(""!=l&&(l+="\n"),l+=e.exec(t)[1])}),s[s.length]=new e.BB.Grade(t,i,r,n,a,o,l)}),i(s)},error:function(t,e,i){r(i)}})},retrieveRoster:function(t,i,r){var s="https://kettering.blackboard.com/webapps/blackboard/execute/searchRoster?showAll=true&action=sort&userInfoSearchOperatorString=Contains&courseId="+t+"&sortCol=column1&sortDir=ASCENDING&course_id="+t+"&userInfoSearchKeyString=FIRSTNAME&startIndex=0"
$.ajax({url:s,type:"GET",dataType:"html",success:function(t){var r=$("<div>").html(t),s=[]
r.find("#listContainer_databody tr").each(function(){var t,i,r,n=$("th, td",this)
3==n.size()&&(i=n.eq(0).find("span:first").text().trim(),t=n.eq(1).text().trim(),r=n.eq(2).text().trim(),s[s.length]=new e.BB.Contact(t,i,r))}),i(s)},error:function(t,e,i){r(i)}})},retrieveContentTree:function(t,i,r,s){var n,a,o=i
""===i?(n="https://kettering.blackboard.com/webapps/blackboard/execute/course/menuFolderViewGenerator?initTree=true&itemId=&storeScope=Session&course_id="+t+"&displayMode=courseMenu_newWindow&editMode=false&openInParentWindow=true",a=!0):(n="https://kettering.blackboard.com/webapps/blackboard/content/listContent.jsp?course_id="+t+"&content_id="+i,a=!1),$.ajax({url:n,type:"GET",dataType:"html",success:function(i){var n,l,c
if(n=[],l=[],a){var d,h
try{d=JSON.parse(i)}catch(u){return c=new e.BB.Tree(t,o,n,l),void r(c)}d.children.length>0&&(h=d.children[0].children)
for(var m=0;m<h.length;m++){var f=h[m],p=/.*ReferredToType:CONTENT:::(_\d\d+_\d+)/
if(f.hasChildren&&p.test(f.id)){var v=$("<div>").html(f.contents).find("a")
if(v.size()>0){var g=v.attr("title"),x=p.exec(f.id)[1]
n[n.length]=new e.BB.Folder(t,x,g,"")}}}}else{var b=$("<div>").html(i)
if(!e.BB.isLoggedIn(b))return void s("Check login.")
var w=/.*folder_on.*/,_=/.*document_on.*/,y=/.*textbookLogo.*/,q=/contentListItem:(_\d\d+_\d+)/,T=$(".courseId",b).text()
b.find("#content_listContainer > li").each(function(){if(q.test($(this).attr("id"))){var i=$("> img",this).attr("src"),r=q.exec($(this).attr("id"))[1],s=$("#"+r,this).text().trim(),a=$("> div.details",this).html()
w.test(i)?n[n.length]=new e.BB.Folder(t,r,s,a):_.test(i)||y.test(i)?l[l.length]=new e.BB.Item(s,a,T):0==$("> img",this).size()&&(l[l.length]=new e.BB.Item(s,a,T))}})}c=new e.BB.Tree(t,o,n,l),r(c)},error:function(t,e,i){s(i)}})},logout:function(t,i){var r="https://kettering.blackboard.com/webapps/login?action=logout"
$.ajax({url:r,type:"POST",dataType:"html",success:function(r){var s=$("<div>").html(r)
e.BB.isLoggedIn(s)?i("Does not appear to have logged out!"):t()},error:function(t,e,r){i(r)}})},login:function(t,i,r,s){var n="https://kettering.blackboard.com/webapps/login/"
$.ajax({url:n,type:"POST",dataType:"html",data:{user_id:encodeURIComponent(t),password:encodeURIComponent(i),login:"Login",action:"login",new_loc:""},success:function(t){var i=$("<div>").html(t)
e.BB.isLoggedIn(i)?r():s("Incorrect username or password.")},error:function(t,e,i){s(i)}})},checkLogIn:function(t,i){var r="https://kettering.blackboard.com/webapps/blackboard/execute/editUser?context=self_modify"
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){var r=$("<div>").html(i)
e.BB.isLoggedIn(r)?t(!0,$("#userName",r).attr("value")):t(!1,"")},error:function(t,e,r){i(r)}})},isLoggedIn:function(t){return t.find(".logout-link").size()>0},downloadCourses:function(t,i){var r="https://kettering.blackboard.com/webapps/portal/execute/tabs/tabAction?action=refreshAjaxModule&modId=_4_1&tabId=_1_1&tab_tab_group_id=_1_1"
$.ajax({url:r,type:"GET",dataType:"html",success:function(r){var s=$("<div>").html(r)
if(1!=s.find("contents").size())return void i("Check login.")
var n=[]
s.find("contents li a").each(function(){var t=$(this).attr("href"),i=$(this).text(),r=/.*&id=(_\d+_\d+).*/,s=/([a-zA-Z]+-\d\d\d)-(\d\d\d\d\d\d)-(\d\d\d\d\d):\s[a-zA-Z]+-\d\d\d-(\d\d[a-zA-Z]?):\s(.+)\s-\s[a-zA-Z]+\s([a-zA-Z]+)\s(\d\d?:\d\d-\d\d?:\d\d).*/,a=/([a-zA-Z]+-\d\d\d)-(\d\d\d\d\d\d)-(\d\d\d\d+):\s[a-zA-Z]+-\d\d\d:\s(.+)\s-\s[a-zA-Z]+/
if(s.test(i)&&r.test(t)){var o,l,c,d,h,u,m,f,p=r.exec(t)[1]
o=s.exec(i),l=o[1],c=o[2],d=o[3],h=o[4],u=o[5],m=o[6],f=o[7],n[n.length]=new e.BB.Course(l,c,d,h,u,m,f,p)}else if(a.test(i)&&r.test(t)){var o,l,c,d,h,u,m,f,p=r.exec(t)[1]
o=a.exec(i),l=o[1],c=o[2],d=o[3],u=o[4],h="TBD",m="TBD",f="TBD"
var v=new e.BB.Course(l,c,d,h,u,m,f,p)
"COOP"!=l&&(n[n.length]=v)}}),t(n)},error:function(t,e,r){i(r)}})}},t.Student=e}(KU),function(t){function e(t,e,i,r){this.name=t,this.code=e,this.city=i,this.state=r}function i(t,e,i,r,s,n){this.kuTitle=t,this.kuCourseId=e,this.transTitle=r,this.transCourseId=i,this.credits=s,this.college=n}var r={},s=null
r.searchByCollege=function(t,r,n){var a="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_ces_credits?as_sbgi="+t,o=[]
s=$.ajax({url:a,type:"GET",dataType:"html",success:function(n){var a=JSON.parse(n).entries,l=function(t,e){return t.kucourse<e.kucourse?-1:t.kucourse>e.kucourse?1:t.kucoursetitle<e.kucoursetitle?-1:t.kucoursetitle>e.kucoursetitle?1:0}
a.sort(l)
for(var c=0,d=0;d<a.length;d++){var h,u,m,f,p,v,g,$,x,b,w=a[d]
"Y"==w.transferableflag&&(h=w.kucoursetitle.trim(),u=w.kucourse.trim(),m=w.trnscrse.trim(),f=w.trnscrsetitle.trim(),p=w.credits.trim(),g=w.institution.replace(t,"").trim(),$=t,v=new e(g,$,x,b),o[c++]=new i(h,u,m,f,p,v))}s=null,r(o)},error:function(t,e,i){s=null,"abort"!=e&&n(i)}})},r.searchByCourseId=function(t,r,n,a,o){var l="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_transferable_courses?as_state=ALL&as_subject="+encodeURIComponent(t.toUpperCase())+"&as_course="+encodeURIComponent(r),c=[]
s=$.ajax({url:l,type:"GET",dataType:"html",success:function(n){var o=JSON.parse(n).transfercourses,l=function(t,e){return t.course_state<e.course_state?-1:t.course_state>e.course_state?1:t.college<e.college?-1:t.college>e.college?1:t.course_title<e.course_title?-1:t.course_title>e.course_title?1:0}
o.sort(l)
for(var d=0;d<o.length;d++){var h,u,m,f,p,v,g,$,x,b,w=o[d]
u=t.toUpperCase()+"-"+r,m=w.course,f=w.course_title,g=w.college,$=w.college_code,x=w.course_city,b=w.course_state,v=new e(g,$,x,b),c[d]=new i(h,u,m,f,p,v)}s=null,a(c)},error:function(t,e,i){s=null,"abort"!=e&&o(i)}})},r.getColleges=function(t,i){var r="https://okras.kettering.edu/kuapps/apex_apps.transfer_art_pkg.get_json_ces_colleges",s=[]
$.ajax({url:r,type:"GET",dataType:"html",success:function(i){for(var r=JSON.parse(i).entries,n=0;n<r.length;n++){var a=r[n]
s[n]=new e(a.stvsbgi_desc,a.stvsbgi_code)}t(s)},error:function(t){i(t)}})},r.abort=function(){null!=s&&(s.abort(),s=null)},t.Transfer=r}(KU)
